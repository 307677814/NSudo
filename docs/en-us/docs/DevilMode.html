<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>NSudo Devil Mode | NSudo</title>
    <meta name="generator" content="VuePress 1.4.1">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <meta name="description" content="NSudo - System Administration Toolkit">
    <link rel="preload" href="/assets/css/0.styles.8a064a9b.css" as="style"><link rel="preload" href="/assets/js/app.79b17799.js" as="script"><link rel="preload" href="/assets/js/2.81d36fc5.js" as="script"><link rel="preload" href="/assets/js/13.f723d9bc.js" as="script"><link rel="prefetch" href="/assets/js/10.1788faa1.js"><link rel="prefetch" href="/assets/js/11.3b500b3e.js"><link rel="prefetch" href="/assets/js/12.ad54535c.js"><link rel="prefetch" href="/assets/js/14.3d0aaead.js"><link rel="prefetch" href="/assets/js/15.cfc20dc2.js"><link rel="prefetch" href="/assets/js/16.72ac62a3.js"><link rel="prefetch" href="/assets/js/17.f0f20e43.js"><link rel="prefetch" href="/assets/js/18.619ccd64.js"><link rel="prefetch" href="/assets/js/19.ba2fc84e.js"><link rel="prefetch" href="/assets/js/20.f75dcfa9.js"><link rel="prefetch" href="/assets/js/21.53857d94.js"><link rel="prefetch" href="/assets/js/22.e7c1f97a.js"><link rel="prefetch" href="/assets/js/23.6d610268.js"><link rel="prefetch" href="/assets/js/24.975014f9.js"><link rel="prefetch" href="/assets/js/25.19d2428b.js"><link rel="prefetch" href="/assets/js/26.d8082978.js"><link rel="prefetch" href="/assets/js/27.0d0de407.js"><link rel="prefetch" href="/assets/js/28.45b43542.js"><link rel="prefetch" href="/assets/js/29.4b873146.js"><link rel="prefetch" href="/assets/js/3.346a3215.js"><link rel="prefetch" href="/assets/js/30.ebfe80d2.js"><link rel="prefetch" href="/assets/js/4.93179e96.js"><link rel="prefetch" href="/assets/js/5.1f23c605.js"><link rel="prefetch" href="/assets/js/6.9fa7c8e2.js"><link rel="prefetch" href="/assets/js/7.5721d8d6.js"><link rel="prefetch" href="/assets/js/8.b714c445.js"><link rel="prefetch" href="/assets/js/9.59c51728.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8a064a9b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/en-us/" class="home-link router-link-active"><img src="/assets/img/logo.png" alt="NSudo" class="logo"> <span class="site-name can-hide">NSudo</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/en-us/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/en-us/About.html" class="nav-link">
  About
</a></div><div class="nav-item"><a href="/en-us/Download.html" class="nav-link">
  Download
</a></div><div class="nav-item"><a href="/en-us/Support.html" class="nav-link">
  Support
</a></div><div class="nav-item"><a href="/en-us/docs/" class="nav-link router-link-active">
  Documents
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en-us/docs/DevilMode.html" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh-hans/docs/DevilMode.html" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/zh-hant/" class="nav-link">
  繁體中文
</a></li></ul></div></div> <a href="https://github.com/M2Team/NSudo" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/en-us/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/en-us/About.html" class="nav-link">
  About
</a></div><div class="nav-item"><a href="/en-us/Download.html" class="nav-link">
  Download
</a></div><div class="nav-item"><a href="/en-us/Support.html" class="nav-link">
  Support
</a></div><div class="nav-item"><a href="/en-us/docs/" class="nav-link router-link-active">
  Documents
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/en-us/docs/DevilMode.html" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/zh-hans/docs/DevilMode.html" class="nav-link">
  简体中文
</a></li><li class="dropdown-item"><!----> <a href="/zh-hant/" class="nav-link">
  繁體中文
</a></li></ul></div></div> <a href="https://github.com/M2Team/NSudo" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/en-us/docs/" class="sidebar-link">Usage</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Documents</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/en-us/docs/Changelog.html" class="sidebar-link">Changelog</a></li><li><a href="/en-us/docs/DevilMode.html" class="active sidebar-link">NSudo Devil Mode</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/en-us/docs/DevilMode.html#why-i-create-the-nsudo-devil-mode" class="sidebar-link">Why I create the NSudo Devil Mode</a></li><li class="sidebar-sub-header"><a href="/en-us/docs/DevilMode.html#origin-of-nsudo-devil-mode" class="sidebar-link">Origin of NSudo Devil Mode</a></li><li class="sidebar-sub-header"><a href="/en-us/docs/DevilMode.html#the-list-of-hooked-windows-nt-kernel-system-calls" class="sidebar-link">The list of hooked Windows NT kernel system calls</a></li><li class="sidebar-sub-header"><a href="/en-us/docs/DevilMode.html#how-to-use-nsudo-devil-mode" class="sidebar-link">How to use NSudo Devil Mode</a></li></ul></li><li><a href="/en-us/docs/SharedLibrary.html" class="sidebar-link">NSudo Shared Library</a></li><li><a href="/en-us/docs/People.html" class="sidebar-link">Relevant People</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="nsudo-devil-mode"><a href="#nsudo-devil-mode" class="header-anchor">#</a> NSudo Devil Mode</h1> <p>NSudo Devil Mode is a elegant solution for developers who want to bypass the
file and registry access checks. It hooks some file and registry Windows NT
kernel system calls via Microsoft Detours, so developers only need to load
NSudoDM.dll into their apps before enjoy it.</p> <p>NSudo Devil Mode only needs Administrator privilege. So developers need to run
their apps as Administrator if they want to use it.</p> <p>As the creator of NSudo project, I think NSudo Devil Mode may replace tools
similar as NSudo in the most cases. NSudo 8.0 will support run apps as NSudo
Devil Mode, and Dism++ God Mode will be refactored with NSudo Devil Mode. So
NSudo will be more professional in the future because I don't want to make
NSudo is replaced by NSudo Devil Mode, lol.</p> <h2 id="why-i-create-the-nsudo-devil-mode"><a href="#why-i-create-the-nsudo-devil-mode" class="header-anchor">#</a> Why I create the NSudo Devil Mode</h2> <p>NSudo Shared Library is hard for developers to integrate it because it expose a
lot of details about Windows security model and looks like a low level library.
I don't think only providing NSudo Shared Library is good for developers who
want to bypass the file and registry access checks. So I have created the NSudo
Devil Mode.</p> <h2 id="origin-of-nsudo-devil-mode"><a href="#origin-of-nsudo-devil-mode" class="header-anchor">#</a> Origin of NSudo Devil Mode</h2> <p>NSudo Devil Mode is based on the Dism++ God Mode or call it &quot;Dism++ 春哥附体&quot;
via Chinese. I have refactored the implementations of Dism++ God Mode, add some
new features and make its source code available in NSudo's GitHub repository.</p> <h2 id="the-list-of-hooked-windows-nt-kernel-system-calls"><a href="#the-list-of-hooked-windows-nt-kernel-system-calls" class="header-anchor">#</a> The list of hooked Windows NT kernel system calls</h2> <table><thead><tr><th>Name</th> <th>Origin</th></tr></thead> <tbody><tr><td>NtCreateKey</td> <td>Dism++ God Mode.</td></tr> <tr><td>NtCreateKeyTransacted</td> <td>NSudo Devil Mode.</td></tr> <tr><td>NtOpenKey</td> <td>Dism++ God Mode. Extended in NSudo Devil Mode.</td></tr> <tr><td>NtOpenKeyTransacted</td> <td>NSudo Devil Mode.</td></tr> <tr><td>NtOpenKeyEx</td> <td>Dism++ God Mode.</td></tr> <tr><td>NtOpenKeyTransactedEx</td> <td>NSudo Devil Mode.</td></tr> <tr><td>NtCreateFile</td> <td>Dism++ God Mode.</td></tr> <tr><td>NtOpenFile</td> <td>Dism++ God Mode.</td></tr></tbody></table> <h2 id="how-to-use-nsudo-devil-mode"><a href="#how-to-use-nsudo-devil-mode" class="header-anchor">#</a> How to use NSudo Devil Mode</h2> <p>You can enable it via LoadLibrary and disable it via FreeLibrary. Here is a
demo code.</p> <div class="language- extra-class"><pre class="language-text"><code>using System;
using System.IO;
using System.Runtime.InteropServices;

namespace Demo
{
    class Program
    {
        [DllImport(&quot;kernel32.dll&quot;, CharSet = CharSet.Unicode)]
        static extern IntPtr LoadLibrary(string lpLibFileName);

        [DllImport(&quot;kernel32.dll&quot;, SetLastError = true)]
        [return: MarshalAs(UnmanagedType.Bool)]
        static extern bool FreeLibrary(IntPtr hLibModule);

        static void Main(string[] args)
        {
            IntPtr NSudoDevilModeModuleHandle = LoadLibrary(
                @&quot;E:\GitHub\M2Team\NSudo\Output\Release\x64\NSudoDevilMode.dll&quot;);

            {
                DirectoryInfo Folder = new DirectoryInfo(
                @&quot;C:\System Volume Information&quot;);

                foreach (FileInfo File in Folder.GetFiles())
                {
                    Console.WriteLine(File.FullName);
                }
            }

            FreeLibrary(NSudoDevilModeModuleHandle);

            {
                DirectoryInfo Folder = new DirectoryInfo(
                @&quot;C:\System Volume Information&quot;);

                foreach (FileInfo File in Folder.GetFiles())
                {
                    Console.WriteLine(File.FullName);
                }
            }

            Console.ReadKey();
        }
    }
}
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/M2Team/NSudo/edit/master/src/Documents/en-us/docs/DevilMode.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">3/26/2020, 11:02:38 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/en-us/docs/Changelog.html" class="prev">
        Changelog
      </a></span> <span class="next"><a href="/en-us/docs/SharedLibrary.html">
        NSudo Shared Library
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.79b17799.js" defer></script><script src="/assets/js/2.81d36fc5.js" defer></script><script src="/assets/js/13.f723d9bc.js" defer></script>
  </body>
</html>
